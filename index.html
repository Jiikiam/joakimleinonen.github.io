<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
    <title>Kotitehtävät</title>
    <link rel="stylesheet" href="sivuncss.css">
    
    </head>
<body>
    
  </div>
  <a name="top"></a>
    <div class="topnav navlink">

        <a href="">Joakim Leinonen</a>
       
        <a href="Contacts">Contacts</a>
      </div>
     
      <button type="button" class="collapsible">H1 Hello Salt</button>
      <div class="content">
        <p>Käytän salttia ubuntu serverillä 22.04.1. Serverin alustana toimii virtual box.<br>
          x)<br>
          1<br>
          -Perus komentoja linuxissa liikkumiseen, tiedostojen muuttamiseen ja ssh:n käyttö.<br>
          -Tärkeiden direktoryjen tehtävät.<br>
          2)<br>
          -Salt master slave alkeet.<br>
          -Slave kontrolli.<br>
          3)<br>
          -Raportin kirjoittaminen eli kai se mitä tässä teen.<br>
          -Pyrkii tekemään selkeää jälkeä, jotta muut voivat toistaa tekemäni asiat.<br>
          -Viittauset kuntoon. <br>
          
          a) sudo salt-call --local state.single pkg.installed name=vim<br>
          Vim asentui koneelleni saltilla.<br>
          b) Siirryin /srv/salt kansioon.<br>
          Loin hei.sls kansion<br>
          sudoedit hei.sls<br>
          Kirjoitin tiedostoon<br>
          /tmp/hei.txt:<br>
            file.managed:<br>
              - source: salt://hei.txt<br>
          Loin hei.txt<br>
          sudoedit hei.txt<br>
          Kirjoitin tiedostoon<br>
          HEI MAAILMA!<br>
          Menin kotihakemistooni<br>
          cd<br>
          Laitoin saltin toteuttamaan<br>
          sudo salt-call --local state.apply hei<br>
          Tarkistin toteuttiko salt haluttuja asioita<br>
          cat /tmp/hei.txt<br>
          output:<br>
          HEI MAAILMA!<br>
          c) Haluan nähdä paikalliset dns tiedot<br>
          sudo salt-call --local grains.item dns<br>
          Listaan paikalliset dns tiedot<br>
          e) <br>
          /srv/salt kansioon tein ssh.sls tiedoston<br>
          tiedostoon kirjoitin<br>
          ssh:<br>
            service.running:<br>
              - enable: True<br>
          Menin kotihakemistoon ja suljin ssh:n<br>
          sudo systemctl stop ssh<br>
          Tarkistin, että ssh on pois päältä<br>
          sudo service ssh status<br>
          Active: inactive (dead), selvästi pois päältä. Yritetään käynnistää saltilla.<br>
          sudo salt-call --local state.apply ssh<br>
          Tarkitetaan kävikö mitään.<br>
          sudo service ssh status<br>
          Active: active (running) since 8s ago<br>
          Pääsin haluttuun lopputulokseen.<br>
          
          <br>
          Lähteet: <br>
          https://www.youtube.com/channel/UCuE6FxD86hgHhh_l5bK-1VQ/videos<br>
          https://terokarvinen.com/2018/salt-states-i-want-my-computers-like-this/<br>
          https://terokarvinen.com/2018/salt-quickstart-salt-stack-master-and-slave-on-ubuntu-linux/</p>
      </div>
      <button class="collapsible">Empty</button>
      <div class="content">
        <p></p>
      </div>
      <button class="collapsible">Empty</button>
      <div class="content">
        <p></p>
      </div>
      <button class="collapsible">Empty</button>
      <div class="content">
        <p></p>
      </div>
      <div class="navbar">
        <a href="#top">Takaisin alkuun</a>
        <a href="Contacts.html">Contacts</a>
      </div> 
      <script src="sivunscript.js"></script>  
</body>
</html>
